From 5a5e218df4a21522c7baba4438730512b18948cd Mon Sep 17 00:00:00 2001
From: kitakar5525 <34676735+kitakar5525@users.noreply.github.com>
Date: Mon, 16 Sep 2019 16:15:32 +0900
Subject: [PATCH] ipts: uncomment downstream_hpd_needs_d0 for i915_legacy

---
 drivers/gpu/drm/i915_legacy/intel_dp.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/i915_legacy/intel_dp.c b/drivers/gpu/drm/i915_legacy/intel_dp.c
index e305a35de..560274d1c 100644
--- a/drivers/gpu/drm/i915_legacy/intel_dp.c
+++ b/drivers/gpu/drm/i915_legacy/intel_dp.c
@@ -2899,8 +2899,8 @@ void intel_dp_sink_dpms(struct intel_dp *intel_dp, int mode)
 		return;
 
 	if (mode != DRM_MODE_DPMS_ON) {
-		//if (downstream_hpd_needs_d0(intel_dp))
-		//	return;
+		if (downstream_hpd_needs_d0(intel_dp))
+			return;
 
 		ret = drm_dp_dpcd_writeb(&intel_dp->aux, DP_SET_POWER,
 					 DP_SET_POWER_D3);
-- 
2.23.0

